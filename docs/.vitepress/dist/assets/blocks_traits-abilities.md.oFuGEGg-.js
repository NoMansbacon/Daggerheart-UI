import{_ as a,c as s,o as t,ag as i}from"./chunks/framework.BpVvFBTM.js";const u=JSON.parse('{"title":"Traits & Abilities","description":"","frontmatter":{},"headers":[],"relativePath":"blocks/traits-abilities.md","filePath":"blocks/traits-abilities.md"}'),n={name:"blocks/traits-abilities.md"};function l(o,e,r,p,c,d){return t(),s("div",null,[...e[0]||(e[0]=[i(`<h1 id="traits-abilities" tabindex="-1">Traits &amp; Abilities <a class="header-anchor" href="#traits-abilities" aria-label="Permalink to &quot;Traits &amp; Abilities&quot;">​</a></h1><p>The traits block shows your six core abilities as cards with totals and a proficiency toggle for each:</p><p>• Agility<br> • Strength<br> • Finesse<br> • Instinct<br> • Presence<br> • Knowledge</p><p>It:</p><p>• Combines base ability scores with trait bonuses from YAML.<br> • Renders one card per ability with a short label (AGI, STR, etc.) and the final modifier.<br> • Lets you toggle proficiency on/off per ability; the toggle state is saved via localStorage.<br> • Feeds the abilities.* template context (used in badges/features/etc.).</p><p>The block is registered under:</p><p>• traits – primary name.<br> • ability – alias.</p><h2 id="yaml-structure" tabindex="-1">YAML structure <a class="header-anchor" href="#yaml-structure" aria-label="Permalink to &quot;YAML structure&quot;">​</a></h2><p>The traits block expects a small YAML document with:</p><p>• abilities – base scores.<br> • bonuses – trait bonuses (preferred key).<br> • trait – legacy alias for trait bonuses (still supported).</p><p>All three accept maps keyed by ability name, and bonuses can also be arrays of maps that get summed.</p><h2 id="example-–-base-abilities-one-bonuses-map" tabindex="-1">Example – Base abilities + one bonuses map <a class="header-anchor" href="#example-–-base-abilities-one-bonuses-map" aria-label="Permalink to &quot;Example – Base abilities + one bonuses map&quot;">​</a></h2><div class="language-traits vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">traits</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>abilities:</span></span>
<span class="line"><span>  Agility: 1</span></span>
<span class="line"><span>  Strength: 0</span></span>
<span class="line"><span>  Finesse: 0</span></span>
<span class="line"><span>  Instinct: 0</span></span>
<span class="line"><span>  Presence: 0</span></span>
<span class="line"><span>  Knowledge: 0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>bonuses:</span></span>
<span class="line"><span>  Agility: 1       # from a trait</span></span>
<span class="line"><span>Presence: 2      # from ancestry or class</span></span></code></pre></div><h3 id="rendered-cards-will-show" tabindex="-1">Rendered cards will show: <a class="header-anchor" href="#rendered-cards-will-show" aria-label="Permalink to &quot;Rendered cards will show:&quot;">​</a></h3><ul><li><strong>AGI</strong>: base 1 + bonus 1 = <code>+2</code></li><li><strong>PRE</strong>: base 0 + bonus 2 = <code>+2</code></li><li>Others use <code>0</code> as default if omitted.</li></ul><h2 id="example-–-multiple-trait-sources" tabindex="-1">Example – Multiple trait sources <a class="header-anchor" href="#example-–-multiple-trait-sources" aria-label="Permalink to &quot;Example – Multiple trait sources&quot;">​</a></h2><p>You can provide bonuses as a <strong>list</strong> if you want to keep sources separate in YAML:</p><div class="language-traits vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">traits</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>abilities:</span></span>
<span class="line"><span>  Agility: 1</span></span>
<span class="line"><span>  Strength: 0</span></span>
<span class="line"><span>  Finesse: 0</span></span>
<span class="line"><span>  Instinct: 0</span></span>
<span class="line"><span>  Presence: 0</span></span>
<span class="line"><span>  Knowledge: 0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>bonuses:</span></span>
<span class="line"><span>  - Agility: 1         # from ancestry</span></span>
<span class="line"><span>    Finesse: 1</span></span>
<span class="line"><span>  - Presence: 1        # from class</span></span>
<span class="line"><span>Presence: 1        # from background</span></span></code></pre></div><h3 id="internally-all-bonus-maps-are-summed" tabindex="-1">Internally, all bonus maps are summed: <a class="header-anchor" href="#internally-all-bonus-maps-are-summed" aria-label="Permalink to &quot;Internally, all bonus maps are summed:&quot;">​</a></h3><ul><li>Agility: <code>1 (base) + 1 = 2</code></li><li>Finesse: <code>0 (base) + 1 = 1</code></li><li>Presence: <code>0 (base) + 1 + 1 = 2</code></li></ul><p>You can also still use the older <code>trait:</code> key instead of <code>bonuses:</code>, but new notes should prefer <code>bonuses:</code>.</p><h2 id="proficiency-toggles" tabindex="-1">Proficiency toggles <a class="header-anchor" href="#proficiency-toggles" aria-label="Permalink to &quot;Proficiency toggles&quot;">​</a></h2><p>Each ability card has a small <strong>toggle pill</strong>:</p><ul><li>Clicking the toggle marks that ability as “on” (proficient) or “off”.</li><li>The state is stored in <code>localStorage</code> under a per‑ability key like:<br><code>dh:traitToggle:&lt;filePath&gt;:&lt;AbilityName&gt;</code></li><li>When the note is reloaded, the block reads those keys and restores the toggles.</li></ul><p>Advanced integrations can fire the <code>dh:ability:refresh</code> event if they change toggles programmatically; the traits view listens for that and re‑reads <code>localStorage</code>.</p><h2 id="templates-integration-abilities" tabindex="-1">Templates integration (<code>abilities.*</code>) <a class="header-anchor" href="#templates-integration-abilities" aria-label="Permalink to &quot;Templates integration (\`abilities.*\`)&quot;">​</a></h2><p>The nearest \`\`\`traits block in a section is used by the template engine to power <code>abilities.*</code>:</p><ul><li>After parsing your <code>traits</code> YAML, the plugin computes final totals (<code>base + bonuses</code>) for each ability.</li><li>Those totals are exposed in templates as <code>abilities.&lt;name&gt;</code>, for example:</li><li><ul><li><span><code>{{ abilities.agility }}</code></span></li></ul></li><li><ul><li><span><code>{{ abilities.strength }}</code></span></li></ul></li><li><ul><li><span><code>{{ abilities.knowledge }}</code></span></li></ul></li></ul><p>Names are matched <strong>case‑insensitively</strong>, so <code>abilities.Agility</code> and <code>abilities.agility</code> both work.</p><p>You can then use these in other blocks, e.g.:</p><div class="language-badges vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">badges</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>items:</span></span>
<span class="line"><span>  - label: &quot;Agility&quot;</span></span>
<span class="line"><span>    value: &quot;{{ abilities.agility }}&quot;</span></span>
<span class="line"><span>  - label: &quot;Presence&quot;</span></span>
<span class="line"><span>    value: &quot;{{ abilities.presence }}&quot;</span></span></code></pre></div><p>or combined with helpers:</p><div class="language-badges vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">badges</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>items:</span></span>
<span class="line"><span>  - label: &quot;Defense&quot;</span></span>
<span class="line"><span>    value: &quot;{{ add abilities.agility abilities.instinct }}&quot;</span></span></code></pre></div><h2 id="configuration-summary-–-traits-block" tabindex="-1">Configuration summary – <code>traits</code> block <a class="header-anchor" href="#configuration-summary-–-traits-block" aria-label="Permalink to &quot;Configuration summary – \`traits\` block&quot;">​</a></h2><p>Top‑level options:</p><table tabindex="0"><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>abilities</code></td><td>Map <code>AbilityName -&gt; Number</code></td><td>Base scores for the six abilities. Missing ones default to 0.</td></tr><tr><td><code>bonuses</code></td><td>Map or Array of Maps</td><td>Trait/feature bonuses; all maps are summed by ability.</td></tr><tr><td><code>trait</code></td><td>Map or Array of Maps</td><td>Legacy alias for <code>bonuses</code> (still supported but not recommended for new notes).</td></tr></tbody></table>`,36)])])}const h=a(n,[["render",l]]);export{u as __pageData,h as default};
