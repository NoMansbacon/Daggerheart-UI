import{_ as a,c as s,o as t,ag as n}from"./chunks/framework.BpVvFBTM.js";const u=JSON.parse('{"title":"Rest – Full Heal & Reset All","description":"","frontmatter":{},"headers":[],"relativePath":"events/heal-reset.md","filePath":"events/heal-reset.md"}'),l={name:"events/heal-reset.md"};function o(r,e,p,i,h,c){return t(),s("div",null,[...e[0]||(e[0]=[n(`<h1 id="rest-–-full-heal-reset-all" tabindex="-1">Rest – Full Heal &amp; Reset All <a class="header-anchor" href="#rest-–-full-heal-reset-all" aria-label="Permalink to &quot;Rest – Full Heal &amp; Reset All&quot;">​</a></h1><p>In addition to Short/Long Rest, the rest block can render two powerful utility buttons:</p><p>• Full Heal – clear all HP damage in the current note.<br> • Reset All – clear HP, Stress, Armor, and Hope trackers in the current note.</p><p>These are great for:</p><blockquote><p>For an overview of related blocks (rest, vitals, damage, etc.), see the <a href="/DH-UI/blocks.html">Code Block Reference</a>.</p></blockquote><p>• Starting a new session with everyone at full health.<br> • Quickly resetting a test or one‑shot character sheet.<br> • Handling “total reset” events (e.g. after a long downtime).</p><p>How they find trackers</p><p>Both actions operate only within the current note’s preview:</p><p>• They look for .dh-tracker elements (from vitals, hp, stress, armor, hope blocks).<br> • Each tracker has a data-dh-key attribute (the state key used by the underlying store).<br> • The reset actions read those keys and set the stored value to 0, then emit an update so the visual trackers redraw.</p><p>If no matching trackers are found in the note, the button shows a notice like “No HP tracker found in this note.” or “No trackers found in this note.”</p><blockquote><p>Because they operate on the current preview, you don’t need to configure any keys for them—they auto‑discover trackers. Use hp_key / stress_key / armor_key / hope_key only if you have very custom setups for Short/Long rest.</p></blockquote><h2 id="full-heal" tabindex="-1">Full Heal <a class="header-anchor" href="#full-heal" aria-label="Permalink to &quot;Full Heal&quot;">​</a></h2><p>The Full Heal button:</p><p>• Finds all HP trackers in the current note (any .dh-tracker that contains .dh-track-hp).<br> • Sets their filled boxes to 0 (no damage marked).<br> • Triggers a visual refresh of those trackers.<br> • Shows a notice:<br> ◦ “HP fully restored for this note.” if any HP trackers were found.<br> ◦ “No HP tracker found in this note.” if none were found.</p><p>Use this when a character (or the whole party) is meant to be fully healed, without touching Stress, Armor, or Hope.</p><h2 id="example-–-adding-a-full-heal-button" tabindex="-1">Example – Adding a Full Heal button <a class="header-anchor" href="#example-–-adding-a-full-heal-button" aria-label="Permalink to &quot;Example – Adding a Full Heal button&quot;">​</a></h2><div class="language-rest vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rest</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>styleClass: dh-rest--tools</span></span>
<span class="line"><span></span></span>
<span class="line"><span>show_short: false</span></span>
<span class="line"><span>show_long: false</span></span>
<span class="line"><span>show_levelup: false</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Enable full heal only</span></span>
<span class="line"><span>show_full_heal: true</span></span>
<span class="line"><span>full_heal_label: &quot;Full Heal HP&quot;</span></span></code></pre></div><h1 id="full-heal-itself-just-scans-the-note-for-hp-trackers" tabindex="-1">Full Heal itself just scans the note for HP trackers. <a class="header-anchor" href="#full-heal-itself-just-scans-the-note-for-hp-trackers" aria-label="Permalink to &quot;Full Heal itself just scans the note for HP trackers.&quot;">​</a></h1><p>hp_key: &quot;din_health&quot;</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span></span></span></code></pre></div><h2 id="reset-all" tabindex="-1">Reset All <a class="header-anchor" href="#reset-all" aria-label="Permalink to &quot;Reset All&quot;">​</a></h2><p>The <strong>Reset All</strong> button:</p><ul><li>Finds all <strong>HP, Stress, Armor, and Hope</strong> trackers in the current note.</li><li>Sets each of their filled values to <code>0</code>.</li><li>Triggers a visual refresh for each tracker.</li><li>Shows a notice: <ul><li>“All trackers in this note reset.” if any were found.</li><li>“No trackers found in this note.” if none were found.</li></ul></li></ul><p>Use this sparingly—it completely clears all damage/stress/armor/hope marks for that character sheet.</p><h3 id="example-–-adding-a-reset-all-button" tabindex="-1">Example – Adding a Reset All button <a class="header-anchor" href="#example-–-adding-a-reset-all-button" aria-label="Permalink to &quot;Example – Adding a Reset All button&quot;">​</a></h3><div class="language-rest vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rest</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>styleClass: </span></span>
<span class="line"><span></span></span>
<span class="line"><span>show_short: false</span></span>
<span class="line"><span>show_long: false</span></span>
<span class="line"><span>show_levelup: false</span></span>
<span class="line"><span>show_full_heal: false</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Enable only the global reset</span></span>
<span class="line"><span>show_reset_all: true</span></span>
<span class="line"><span>reset_all_label: &quot;Reset All Tracks&quot;</span></span></code></pre></div><h2 id="example-–-rest-bar-with-all-utilities" tabindex="-1">Example – Rest bar with all utilities <a class="header-anchor" href="#example-–-rest-bar-with-all-utilities" aria-label="Permalink to &quot;Example – Rest bar with all utilities&quot;">​</a></h2><p>You can mix these with Short/Long Rest and Level Up as needed:</p><div class="language-rest vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rest</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>styleClass: dh-rest--full</span></span>
<span class="line"><span></span></span>
<span class="line"><span>rest_label: &quot;Rest&quot;</span></span>
<span class="line"><span>short_label: &quot;Short&quot;</span></span>
<span class="line"><span>long_label: &quot;Long&quot;</span></span>
<span class="line"><span>levelup_label: &quot;Level Up&quot;</span></span>
<span class="line"><span>full_heal_label: &quot;Full Heal HP&quot;</span></span>
<span class="line"><span>reset_all_label: &quot;Wipe All&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>show_short: true</span></span>
<span class="line"><span>show_long: true</span></span>
<span class="line"><span>show_levelup: true</span></span>
<span class="line"><span>show_full_heal: true</span></span>
<span class="line"><span>show_reset_all: true</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Optional: rest integration with specific trackers</span></span>
<span class="line"><span>hp_key: &quot;din_health&quot;</span></span>
<span class="line"><span>stress_key: &quot;din_stress::Character/Dree&quot;</span></span>
<span class="line"><span>armor_key: &quot;din_armor::Character/Dree&quot;</span></span>
<span class="line"><span>hope_key: &quot;din_hope::Character/Dree&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>max_picks: 2</span></span></code></pre></div><h2 id="configuration-–-heal-reset-options" tabindex="-1">Configuration – Heal/Reset options <a class="header-anchor" href="#configuration-–-heal-reset-options" aria-label="Permalink to &quot;Configuration – Heal/Reset options&quot;">​</a></h2><p>Relevant <code>rest</code> options for these features:</p><table tabindex="0"><thead><tr><th>Property</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>styleClass</code></td><td>String</td><td><em>none</em></td><td>CSS class for styling the rest control row.</td></tr><tr><td><code>show_full_heal</code></td><td>Boolean</td><td><code>false</code></td><td>Show the Full Heal button (HP only).</td></tr><tr><td><code>full_heal_label</code></td><td>String</td><td><code>&quot;Full Heal&quot;</code></td><td>Label for the Full Heal button.</td></tr><tr><td><code>show_reset_all</code></td><td>Boolean</td><td><code>false</code></td><td>Show the Reset All button (HP + Stress + Armor + Hope).</td></tr><tr><td><code>reset_all_label</code></td><td>String</td><td><code>&quot;Reset All&quot;</code></td><td>Label for the Reset All button.</td></tr></tbody></table>`,32)])])}const f=a(l,[["render",o]]);export{u as __pageData,f as default};
