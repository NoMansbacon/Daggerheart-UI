import{_ as a,c as t,o,ag as r}from"./chunks/framework.BpVvFBTM.js";const p=JSON.parse('{"title":"Domain Picker","description":"","frontmatter":{},"headers":[],"relativePath":"Pickers/domain-picker.md","filePath":"Pickers/domain-picker.md"}'),i={name:"Pickers/domain-picker.md"};function n(s,e,l,d,c,u){return o(),t("div",null,[...e[0]||(e[0]=[r(`<h1 id="domain-picker" tabindex="-1">Domain Picker <a class="header-anchor" href="#domain-picker" aria-label="Permalink to &quot;Domain Picker&quot;">​</a></h1><p>The domain picker is a management UI for Domain cards on a character sheet. It reads frontmatter from the current note and lets you move cards between:</p><p>• Vault – all the domain cards your character owns.<br> • Loadout – the subset of cards they currently have equipped.</p><p>It integrates with:</p><p>• Your Domain card notes (found via tags, folders, or plugin settings).<br> • Your character note frontmatter (level, domains, vault/loadout lists).<br> • The Dataview plugin for fast querying and filtering.</p><blockquote><p>The Domain Picker requires the Dataview plugin. If Dataview is missing, the block shows a helpful message instead of rendering.</p></blockquote><p>Character frontmatter it uses</p><p>On the character note (the note that contains the domainpicker block), the picker reads:</p><p>• level / Level – character level, used for level filters.<br> • domains / Domains – one or more domains your character belongs to (array or string).<br> • vault / Vault – list of Domain cards in the character’s vault (as [[links]]).<br> • loadout / Loadout – list of Domain cards currently equipped (as [[links]]).</p><p>vault and loadout are automatically updated when you click Add / Remove / → Loadout / → Vault inside the UI.</p><p>Domain card notes it expects</p><p>Each Domain card is just a note in your vault. The picker finds them by:</p><p>• Folder(s) you specify in the block (folder / folders), or<br> • The plugin’s Domain cards folder setting, or<br> • As a fallback, any note tagged #domain / #domains or with a domain/Domain frontmatter field.</p><p>From each card it looks at:</p><p>• domains / domain / Domains – which domain(s) this card belongs to.<br> • level / Level – card level.<br> • type / Type – flavor/category (e.g. “Strife”, “Boon”).<br> • stress / Stress – short stress note if relevant.<br> • feature / Feature – short description text.<br> • tokens / Tokens – optional max tokens, used for token tracking.<br> • art / Art – optional art path/filename for card view images.</p><p>These fields are shown in the Vault/Loadout tables and the Add‑cards modal.</p><p>The block will:</p><ul><li>Show a toolbar with <strong>Loadout / Vault</strong> toggle and an <strong>“Add cards”</strong> button.</li><li>Render a table for whichever list is selected (Vault or Loadout).</li><li>Enforce the global <strong>max domain loadout</strong> setting when you move cards into Loadout.</li></ul><h2 id="example-–-explicit-folders-and-table-view" tabindex="-1">Example – Explicit folders and table view <a class="header-anchor" href="#example-–-explicit-folders-and-table-view" aria-label="Permalink to &quot;Example – Explicit folders and table view&quot;">​</a></h2><p>You can point the picker at specific folders, and change the Add‑cards modal to table view:</p><div class="language-domainpicker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">domainpicker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># Only look for Domain cards under these folders:</span></span>
<span class="line"><span>folders:</span></span>
<span class="line"><span>  - Daggerheart/Domains/Justice</span></span>
<span class="line"><span>  - Daggerheart/Domains/Chaos</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Modal view for picking cards: &#39;card&#39; or &#39;table&#39;</span></span>
<span class="line"><span>view: table</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Per-block override for max equipped Domain cards</span></span>
<span class="line"><span>max_loadout: 5</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Use the character&#39;s level and domains frontmatter for default filters</span></span>
<span class="line"><span>use_character_filters: true</span></span></code></pre></div><h2 id="ui-overview" tabindex="-1">UI overview <a class="header-anchor" href="#ui-overview" aria-label="Permalink to &quot;UI overview&quot;">​</a></h2><h3 id="main-toolbar" tabindex="-1">Main toolbar <a class="header-anchor" href="#main-toolbar" aria-label="Permalink to &quot;Main toolbar&quot;">​</a></h3><p>At the top of the block:</p><ul><li><strong>Loadout / Vault</strong> buttons – toggle which list you’re inspecting.</li><li><strong>Add cards</strong> – opens a full‑screen modal for searching and adding Domain cards.</li><li><strong>Domain loadout counter</strong> – e.g. <code>Domain loadout: 2/3</code>. <ul><li>If you exceed the configured limit, it shows “over recommended limit” and a warning style.</li></ul></li></ul><h3 id="vault-loadout-tables" tabindex="-1">Vault / Loadout tables <a class="header-anchor" href="#vault-loadout-tables" aria-label="Permalink to &quot;Vault / Loadout tables&quot;">​</a></h3><p>For the active list (Loadout or Vault), the picker shows:</p><ul><li>A <strong>table</strong> with columns: <ul><li><strong>Name</strong> – link to the card note.</li><li><strong>Type</strong> – card type from frontmatter.</li><li><strong>Domain</strong> – domains this card belongs to.</li><li><strong>Level</strong> – card level.</li><li><strong>Stress</strong> – stress text if present.</li><li><strong>Feature</strong> – a short description.</li><li><strong>Tokens</strong> – visual dots for the current token count (if any).</li></ul></li><li><strong>Actions</strong> per row: <ul><li><code>→ Loadout</code> / <code>→ Vault</code> – move between lists.</li><li><strong>Remove</strong> – remove the card from that list.</li><li><strong>+ token / – token</strong> – increment or decrement token count for that card.</li></ul></li></ul><p>Token counts are stored per <strong>character note + card</strong> in local storage, so they persist across reloads and are independent for each character.</p><h3 id="add-cards-modal" tabindex="-1">“Add cards” modal <a class="header-anchor" href="#add-cards-modal" aria-label="Permalink to &quot;“Add cards” modal&quot;">​</a></h3><p>The Add‑cards modal is where you search and add cards to Vault or Loadout.</p><h2 id="features" tabindex="-1">Features: <a class="header-anchor" href="#features" aria-label="Permalink to &quot;Features:&quot;">​</a></h2><ul><li><strong>Domain filter</strong> – defaults to your character’s domains if <code>use_character_filters</code> is on; otherwise shows all domains found.</li><li><strong>Type filter</strong> – filtered by the currently selected domain baseline.</li><li><strong>Level filter</strong> – “Any” or exact 1–10: <ul><li>If <code>use_character_filters</code> is on, cards are capped at your character’s level by default.</li></ul></li><li><strong>Search</strong> – text search across name, feature, type, domains.</li><li><strong>Reset</strong> – clears all filters and search text.</li><li><strong>View mode</strong>: <ul><li><code>card</code> (default) – grid of domain cards with art, meta line, and Add buttons.</li><li><code>table</code> – compact table similar to the Vault/Loadout view.</li></ul></li></ul><p>In both views you can add cards directly:</p><ul><li><strong>Add to Vault</strong> – adds the card to the character’s <code>vault</code> list.</li><li><strong>Add to Loadout</strong> – adds the card to <code>loadout</code> (respecting loadout limits).</li></ul><p>If the <strong>loadout limit</strong> would be exceeded, the block:</p><ul><li>Shows a warning message inside the modal.</li><li>Pops an Obsidian <code>Notice</code> explaining that the loadout is full.</li><li>Does <strong>not</strong> add the card until you free up space.</li></ul><h2 id="level‐up-integration" tabindex="-1">Level‑up integration <a class="header-anchor" href="#level‐up-integration" aria-label="Permalink to &quot;Level‑up integration&quot;">​</a></h2><p>The domain picker can also respond to a custom event (used by your Level Up tools):</p><ul><li>When <code>dh:domainpicker:open</code> is dispatched with details like <code>filePath</code>, <code>level</code>, and <code>required</code>, the picker: <ul><li>Opens the Add‑cards modal.</li><li>Shows a <strong>Level Up</strong> guidance line (e.g. “Add 1 more domain card for this level.”).</li><li>Tracks how many cards you’ve added and automatically closes the modal once you’ve added the required number.</li></ul></li></ul><p>This lets your leveling flow guide players through adding the correct number of new Domain cards.</p><h2 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h2><p>Top‑level <code>domainpicker</code> block options:</p><table tabindex="0"><thead><tr><th>Property</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>folder</code></td><td>String / String array</td><td><em>none</em></td><td>Single folder or list of folders to search for Domain cards. Uses forward slashes.</td></tr><tr><td><code>folders</code></td><td>String / String array</td><td><em>none</em></td><td>Alias for <code>folder</code>; if both are present, <code>folders</code> wins.</td></tr><tr><td><code>view</code></td><td><code>&quot;card&quot;</code> | <code>&quot;table&quot;</code></td><td><code>&quot;card&quot;</code> or plugin default</td><td>View type for the Add‑cards modal (card grid or table).</td></tr><tr><td><code>use_character_filters</code></td><td>Boolean</td><td>plugin setting (<code>true</code> by default)</td><td>Whether to default filters based on the character’s level and domains.</td></tr><tr><td><code>max_loadout</code></td><td>Number</td><td>plugin setting (<code>maxDomainLoadout</code>) or unlimited</td><td>Per‑block override for maximum Domain cards in Loadout.</td></tr></tbody></table><p>Behavior notes:</p><ul><li>If <strong><code>folder</code>/<code>folders</code></strong> is set, the picker only considers cards whose paths start with those folders (recursively).</li><li>If no folders are configured anywhere, it falls back to <strong>tags/fields</strong> (<code>#domain</code>, <code>#domains</code>, <code>domain</code>/<code>Domain</code> frontmatter).</li><li>When <code>use_character_filters</code> is <code>false</code>, the default filters won’t auto‑restrict to your character’s level/domains; you can still manually filter by Domain, Type, and Level in the modal.</li><li>Setting <code>max_loadout</code> to a positive number will enforce that limit; omitting it uses the global setting; if neither is a valid number, there is effectively no limit.</li></ul><p>This makes the Domain Picker a powerful “domain deck manager” for each character, while keeping the actual data in simple Markdown notes and frontmatter.</p>`,47)])])}const m=a(i,[["render",n]]);export{p as __pageData,m as default};
