{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Daggerheart Tooltips (DH-UI)","text":"<p>An Obsidian plugin that turns fenced code blocks into rich, live-updating UI for Daggerheart campaigns.</p> <p>Use this site as the primary documentation for installing, configuring, and using the plugin. The GitHub README can stay short and just link here.</p>"},{"location":"#what-this-plugin-does","title":"What this plugin does","text":"<ul> <li>Renders traits, vitals, trackers, rest controls, damage calculators, badges, and more.</li> <li>Uses simple fenced code blocks (e.g. <code>vitals,</code>traits, <code>rest,</code>damage).</li> <li>Reads values from your note frontmatter and YAML to drive the UI.</li> <li>Persists tracker / consumable state so multiple views stay in sync.</li> </ul> <p>For detailed, example-driven usage (character frontmatter, blocks, Level Up, domain picker, multiclass examples, etc.), see the Usage Guide below.</p>"},{"location":"#quick-start","title":"Quick start","text":"<ol> <li>Copy this plugin folder into your vault under <code>.obsidian/plugins/daggerheart-tooltips</code> (or install it using your preferred Obsidian community plugin workflow).</li> <li>In the plugin folder, run:</li> </ol> <p><code>bash    npm install    npm run dev</code></p> <ol> <li>In Obsidian, open Settings \u2192 Community plugins and enable Daggerheart Tooltips.</li> <li>Create a note and add one of the supported fenced code blocks, for example:</li> </ol> <p><code>markdown</code>traits    # no YAML needed \u2013 reads from frontmatter and your abilities config    <code></code></p> <ol> <li>Adjust your note's frontmatter (e.g. <code>level</code>, <code>hp</code>, <code>stress</code>, <code>domains</code>, etc.) and watch the UI update.</li> </ol>"},{"location":"#usage-guide","title":"Usage guide","text":"<p>The full usage documentation lives in the existing <code>docs/USAGE.md</code> file from the repository.</p> <p>\u27a1\ufe0f Open the full Usage Guide</p> <p>It covers:</p> <ul> <li>All available blocks (traits, vitals, trackers, rest, damage, consumables, badges, etc.).</li> <li>Template syntax and the shared character model.</li> <li>Level Up workflow and domain/equipment pickers.</li> <li>Settings and common troubleshooting tips.</li> </ul>"},{"location":"#local-preview","title":"Local preview","text":"<p>If you want to preview this docs site locally before pushing to GitHub Pages:</p> <ol> <li>Install MkDocs with the Material theme (once per machine):</li> </ol> <p><code>bash    pip install mkdocs-material</code></p> <ol> <li>From the root of this repository, run:</li> </ol> <p><code>bash    mkdocs serve</code></p> <ol> <li>Open the printed <code>http://127.0.0.1:8000/</code> URL in your browser.</li> </ol> <p>When you're happy with the docs, push your changes and let GitHub Pages host them.</p>"},{"location":"USAGE/","title":"Daggerheart Tooltips (DH-UI) \u2013 User Guide","text":"<p>This document is the main reference for how to use the Daggerheart Tooltips plugin, with copy\u2011pasteable examples.</p> <p>For a high\u2011level overview and installation instructions, see the root <code>README.md</code>.</p>"},{"location":"USAGE/#quick-start","title":"Quick start","text":"<ol> <li>Install and enable the plugin in Obsidian.</li> <li>Add frontmatter to your character note (at the top of the file between <code>---</code> lines).</li> <li>Insert fenced code blocks (<code>traits,</code>vitals, ```rest, etc.) in the body of the note.</li> <li>Switch to Preview mode to see the interactive UI.</li> </ol> <p>Minimal working example in a character note:</p> <pre><code>---\nname: Thalia\nlevel: 1\ntier: 1\nhp: 6\nstress: 4\narmor: 2\nhope: 6\n---\n\n```traits\n# no YAML needed \u2013 reads from frontmatter and your abilities config\n</code></pre> <pre><code>hp: \"{{ frontmatter.hp }}\"\nstress: \"{{ frontmatter.stress }}\"\narmor: \"{{ frontmatter.armor }}\"\nhope: 6\n</code></pre> <pre><code>show_levelup: true\nshow_full_heal: true\nshow_reset_all: true\n</code></pre> <pre><code>\n---\n\n## Character frontmatter\n\nMost blocks read data from your note frontmatter using the template engine. A simple single\u2011class frontmatter might look like this:\n\n```yaml\n---\nname: Thalia\nlevel: 3\ntier: 2\n\nhp: 8\nstress: 6\narmor: 2\nhope: 6\n\nancestry: Emberborn\nclass: Warrior\nsubclass: Sentinel\ncommunity: Free City Guard\n\ndomains: \"valor | shadow\"\n---\n</code></pre> <p>A multiclass character can be represented by adding more information to the same fields, for example:</p> <pre><code>---\nname: Azureus\nlevel: 5\ntier: 3\n\nhp: 10\nstress: 7\narmor: 3\nhope: 6\n\nancestry: Void\u2011touched\nclass: \"Warrior / Invoker\"\nsubclass: \"Sentinel / Starcaller\"\ncommunity: \"Order of the Lantern\"\n\ndomains: \"valor | light | shadow\"\n---\n</code></pre> <p>The plugin does not try to enforce whether this is a legal build; it just uses these values for display and filtering.</p>"},{"location":"USAGE/#core-blocks-with-examples","title":"Core blocks with examples","text":"<p>This section gives short examples for the most common blocks. See the README for more detailed field lists.</p>"},{"location":"USAGE/#traits-abilities","title":"Traits / Abilities","text":"<pre><code>```traits\n# usually no YAML needed \u2013 reads from frontmatter + your traits config\n</code></pre> <pre><code>\n### Vitals grid\n\n```markdown\n```vitals\nhp: \"{{ frontmatter.hp }}\"\nstress: \"{{ frontmatter.stress }}\"\narmor: \"{{ frontmatter.armor }}\"\nhope: 6\n\nhp_key: din_health\nstress_key: din_stress::{{ file.path }}\narmor_key: din_armor::{{ file.path }}\nhope_key: din_hope::{{ file.path }}\n</code></pre> <pre><code>\n### Individual trackers\n\n```markdown\n```hp\nlabel: HP\nstate_key: din_health\nuses: \"{{ frontmatter.hp }}\"\n</code></pre> <pre><code>label: Stress\nstate_key: din_stress::{{ file.path }}\nuses: \"{{ frontmatter.stress }}\"\n</code></pre> <pre><code>\n### Rest controls + Level Up\n\n```markdown\n```rest\nrest_label: \"Rest\"\nlevelup_label: \"Level Up\"\nfull_heal_label: \"Full Heal\"\nreset_all_label: \"Reset All\"\n\nshow_short: true\nshow_long: true\nshow_levelup: true\nshow_full_heal: true\nshow_reset_all: true\n</code></pre> <pre><code>\n- **Rest**: opens the rest-actions modal.\n- **Level Up**: opens the level\u2011up chooser modal tied to this note.\n- **Full Heal / Reset All**: update all matching trackers in the current note.\n\n### Damage\n\n```markdown\n```damage\ntitle: \"Damage\"\n\nhp_key: din_health\narmor_key: din_armor::{{ file.path }}\n\nmajor_threshold: \"{{ frontmatter.major_threshold }}\"\nsevere_threshold: \"{{ frontmatter.severe_threshold }}\"\nbase_major: 3\nbase_severe: 6\nlevel: \"{{ frontmatter.level }}\"\n</code></pre> <pre><code>\n### Consumables\n\n```markdown\n```consumables\nitems:\n  - label: \"Health Potion\"\n    state_key: hero_hp_pots\n    uses: 3\n  - label: \"Rage\"\n    state_key: hero_rage\n    uses: \"{{ frontmatter.rage_uses }}\"\n</code></pre> <pre><code>\n### Badges\n\n```markdown\n```badges\nitems:\n  - label: \"Level\"\n    value: \"{{ frontmatter.level }}\"\n  - label: \"Ancestry\"\n    value: \"{{ frontmatter.ancestry }}\"\n  - label: \"Class\"\n    value: \"{{ frontmatter.class }}\"\n</code></pre> <pre><code>\n### Features (ancestry / class / subclass / community)\n\n```markdown\n```features\nancestry:\n  - label: \"Emberborn\"\n    value: \"Fire\u2011aligned ancestry from the Ashen Realms.\"\nclass:\n  - label: \"Warrior\"\n    value: \"Front\u2011line defender focused on armor and control.\"\nsubclass:\n  - label: \"Sentinel\"\n    value: \"Specializes in protecting allies with reactions.\"\ncommunity:\n  - label: \"Free City Guard\"\n    value: \"Sworn to protect the city of Vyr.\"\n</code></pre> <pre><code>\nTo use a grid layout instead of a simple list:\n\n```markdown\n```features\nlayout: grid\nancestry:\n  - label: \"Emberborn\"\n    value: \"Fire\u2011aligned ancestry from the Ashen Realms.\"\n# ...\n</code></pre> <pre><code>\n---\n\n## Domain Picker\n\nThe `domainpicker` block helps manage which domain cards are in a character's **Vault** vs **Loadout**.\n\nBasic usage in a character note:\n\n```markdown\n```domainpicker\n</code></pre> <pre><code>\nHow it works:\n\n- Reads your character note's frontmatter, including `level` and `domains`.\n- Uses the Dataview plugin to find candidate domain card notes.\n- Shows two tables: **Vault** and **Loadout**, each as a list of note links.\n- Lets you move cards between Vault and Loadout and adjust token counts.\n\nYou can configure where domain card notes live via plugin settings (e.g. a specific folder).\n\n---\n\n## Equipment Picker\n\nUse the `equipmentpicker` block to manage your character's weapons, armor, and other gear between **Inventory** and **Equipped** lists.\n\nBasic usage in a character note:\n\n```markdown\n```equipmentpicker\n# optional per-block overrides\n# folders:\n#   - \"Cards/Equipment\"\n# enforce_tier: true   # default: use character tier to hide too-high-tier items\n# view: table          # or \"card\" for card-style tiles\n</code></pre> <pre><code>\nHow it works:\n\n- Reads your character note's frontmatter, including `tier`.\n- Uses the Dataview plugin to discover equipment notes, either:\n  - from per-block `folder` / `folders` in the YAML, or\n  - from the global **Equipment folder** setting, or\n  - from the whole vault when no folder is configured.\n- Detects likely **weapons** and **armor** from tags/frontmatter and groups them into separate tables (Weapons, Armor, Other).\n- Lets you move items between **Inventory** and **Equipped** and remove them from both lists.\n\nYou can configure where equipment notes live and whether the picker should hide items above the character's tier via plugin settings.\n\n---\n\n## Level Up &amp; multiclassing\n\nThe plugin ships with a Level Up modal that walks through the official options for Tiers 2\u20134.\n\n### Using the Level Up modal\n\n1. Add a `rest` block with `show_levelup: true` in your character note.\n2. Click **Level Up** in Preview.\n3. The Level Up modal shows:\n   - Tier 2, 3, and 4 columns.\n   - Available options per tier, with checkboxes.\n   - Usage boxes that track how many times each option has been taken.\n4. Select **exactly two** options and click **Apply Level Up**.\n\nWhat happens when you apply:\n\n- `level` is incremented in frontmatter, and `tier` is updated when you cross key thresholds.\n- `hp`, `stress`, `evasion`, and `proficiency` are incremented according to the options chosen.\n- `dh_levelup.t2/t3/t4` objects in frontmatter track how many times each option (opt1..opt8) has been taken.\n- For trait\u2011boosting options, the plugin also updates the `traits` block's YAML (the `bonuses` section) where possible.\n- A `dh:domainpicker:open` event is fired so the Domain Picker can prompt you to add domain cards for your new level.\n\n### Multiclassing behavior\n\nThe Level Up modal includes multiclass options in higher tiers (for example, certain `opt8` entries in Tier 3/4). The plugin handles these in a deliberately light way:\n\n- **It records that you picked the multiclass option** by incrementing `dh_levelup.t3.opt8` / `dh_levelup.t4.opt8`.\n- It **does not automatically rewrite** your `class`, `subclass`, or `domains` frontmatter \u2013 you should update those yourself.\n- It opens the Domain Picker so you can add the appropriate new class/domain cards, but\n- It **does not check legality** of which cards you add (number of classes, domain combinations, etc.).\n\nThis keeps the plugin on the UI/state side of things while leaving rules decisions to you and your table.\n\n---\n\n## Experiences\n\nUse the `experiences` block to list your character's key experiences. These are story hooks you and your GM can reference during play.\n\n```markdown\n```experiences\nitems:\n  - name: \"Saved by the Stranger\"\n    note: \"You owe a favor to the mysterious stranger who pulled you from the river.\"\n  - name: \"Haunted by the Flames\"\n    note: \"You survived a village fire that still stalks your dreams.\"\n</code></pre> <pre><code>\nHow to use in play (rules reminder): when you and your GM agree an experience is relevant, you can **spend 1 Hope** to **add +2** to a roll that fits that experience. This plugin just helps you track the text; you apply the +2 modifier yourself when you roll.\n\nYou can also write a single experience without `items:`:\n\n```markdown\n```experiences\nname: \"Marked by the Old Gods\"\nnote: \"You bear a strange symbol that reacts to ancient magic.\"\n</code></pre> <p>```</p>"},{"location":"USAGE/#template-engine-quick-reference","title":"Template engine quick reference","text":"<p>Anywhere you can write a string in block YAML, you can usually use template expressions like <code>{{ frontmatter.hp }}</code>.</p> <p>Supported paths include:</p> <ul> <li><code>frontmatter.*</code> \u2013 note frontmatter, e.g. <code>{{ frontmatter.level }}</code>.</li> <li><code>abilities.*</code> \u2013 totals from the nearest <code>``traits block, e.g.</code>{{ abilities.Agility }}`.</li> <li><code>skills.*</code> \u2013 from a <code>skills</code> map in frontmatter.</li> <li><code>character.*</code> \u2013 a derived summary, e.g. <code>{{ character.level }}</code>, <code>{{ character.hp }}</code>.</li> </ul> <p>Basic helpers:</p> <ul> <li><code>{{ add 2 frontmatter.level }}</code> \u2013 numeric addition.</li> <li><code>{{ subtract frontmatter.hp 2 }}</code> \u2013 subtraction.</li> <li><code>{{ multiply 2 frontmatter.level }}</code> \u2013 multiplication.</li> <li><code>{{ floor divide frontmatter.hp 2 }}</code> \u2013 integer division.</li> </ul> <p>If a template expression fails, it resolves to an empty string instead of throwing.</p>"},{"location":"USAGE/#scope-rules-disclaimer","title":"Scope &amp; rules disclaimer","text":"<ul> <li>The plugin does not enforce Daggerheart rules (including multiclass rules, card limits, or build legality).</li> <li>It focuses on rendering UI and persisting state for things like trackers, cards, and level\u2011up choices.</li> <li>Your frontmatter, YAML, and in\u2011world decisions remain the source of truth for what is actually allowed at the table.</li> </ul>"},{"location":"blocks/","title":"Code Block Reference","text":"<p>This page lists all DH-UI fenced code blocks and the important options each one supports, with copy\u2011pasteable examples.</p> <p>You use these blocks in Markdown like:</p> <pre><code>```traits\n# YAML options here\n</code></pre> <pre><code>\n---\n\n## Traits / Abilities (`traits`, `ability`, `dh-ability`, `dh-traits`)\n\nThe traits/abilities block renders the six Daggerheart abilities as cards, optionally with per\u2011ability bonuses and notes.\n\n### Basic traits block\n\n```markdown\n```traits\n# usually no YAML needed \u2013 reads from frontmatter + your traits config\n</code></pre> <pre><code>\nBy default, traits are built from your character frontmatter and internal helpers.\n\n### Traits with explicit bonuses and notes\n\n```markdown\n```traits\nbonuses:\n  Agility: 1\n  Strength: 2\n\nnotes:\n  Agility: \"From Emberborn ancestry\"\n  Strength: \"From Warrior class\"\n\nshow_markers: true   # default true; gold checkmarks on each card\nlayout: row          # or \"grid\" in some themes\nclass: my-traits     # optional custom CSS class\n</code></pre> <pre><code>\n**Key options:**\n\n- `bonuses.&lt;Ability&gt;` \u2013 numeric bonus applied to that ability.\n- `notes.&lt;Ability&gt;` \u2013 small note text under that ability.\n- `show_markers` \u2013 show/hide the gold marker toggles.\n- `layout` \u2013 layout hint (implementation may vary by theme).\n- `class` \u2013 first CSS class added to the outer container.\n\nAliases `ability` / `dh-ability` / `dh-traits` can be used if `traits` is taken by another plugin.\n\n---\n\n## Vitals Grid (`vitals` / `vital-trackers`)\n\nThe `vitals` block shows HP, Stress, Armor, and Hope in a 2\u00d72 tracker grid with persistent state.\n\n```markdown\n```vitals\nhp: \"{{ frontmatter.hp }}\"        # or a literal number\nstress: \"{{ frontmatter.stress }}\"\narmor: \"{{ frontmatter.armor }}\"\nhope: 6                            # defaults to 6 if omitted\n\nhp_label: HP\nstress_label: Stress\narmor_label: Armor\nhope_label: Hope\n\n# Optional storage keys (for cross\u2011note sharing)\nhp_key: din_health\nstress_key: din_stress::{{ file.path }}\narmor_key: din_armor::{{ file.path }}\nhope_key: din_hope::{{ file.path }}\n\n# Optional hope footer / feature rows\nhope_feature:\n  - label: \"Hope Feature\"\n    value: \"{{ frontmatter.hope_feature }}\"\n\nclass: my-vitals\n</code></pre> <pre><code>\n**Key options:**\n\n- `hp`, `stress`, `armor`, `hope` \u2013 number of boxes per tracker (literal or template).\n- `&lt;type&gt;_label` \u2013 label to show for that row.\n- `&lt;type&gt;_key` \u2013 state keys used by the shared store so other blocks (rest, damage, etc.) can find and update these trackers.\n- `hope_feature` \u2013 list of extra rows under Hope.\n- `class` \u2013 custom CSS class.\n\n---\n\n## Individual Trackers (`hp`, `stress`, `armor`, `hope`)\n\nUse these when you just need one tracker row instead of the full grid.\n\n```markdown\n```hp\nlabel: HP\nstate_key: din_health\nuses: \"{{ frontmatter.hp }}\"   # or hp: 8\nclass: my-hp\n</code></pre> <pre><code>label: Stress\nstate_key: din_stress::{{ file.path }}\nuses: \"{{ frontmatter.stress }}\"\n</code></pre> <pre><code>\n**Key options (per tracker type):**\n\n- `label` \u2013 label for the row.\n- `state_key` \u2013 key in the state store (e.g. `tracker:din_health`).\n- `uses` \u2013 number of boxes (or type\u2011specific key like `hp`, `stress`, `armor`, `hope`).\n- `class` \u2013 optional CSS class.\n\n`hope` trackers default to 6 boxes if `uses` is omitted.\n\n---\n\n## Rest Controls (`rest`)\n\nThe `rest` block provides a Rest row with buttons and a combined **Rest modal** for short/long rests plus Level Up and reset actions.\n\n### Basic rest row\n\n```markdown\n```rest\nrest_label: \"Rest\"\nlevelup_label: \"Level Up\"\nfull_heal_label: \"Full Heal\"\nreset_all_label: \"Reset All\"\n\n# Auto\u2011detects trackers from visible vitals/trackers in the note by default\n# but you can override with explicit keys:\n# hp_key: din_health\n# stress_key: din_stress::{{ file.path }}\n# armor_key: din_armor::{{ file.path }}\n# hope_key: din_hope::{{ file.path }}\n\nshow_short: true\nshow_long: true\nshow_levelup: true\nshow_full_heal: true\nshow_reset_all: true\n\nmax_picks: 2        # max actions allowed per rest in the modal\nclass: my-rest-row\n</code></pre> <pre><code>\n**Buttons:**\n\n- **Rest** \u2013 opens the combined rest modal.\n- **Short / Long rest** \u2013 shortcuts into the relevant column of the same modal.\n- **Level Up** \u2013 opens the Level Up chooser modal.\n- **Full Heal** \u2013 scans visible HP trackers and fills them.\n- **Reset All** \u2013 resets HP/Stress/Armor/Hope trackers.\n\n**Key options:**\n\n- Labels: `rest_label`, `levelup_label`, `full_heal_label`, `reset_all_label`.\n- Visibility: `show_short`, `show_long`, `show_levelup`, `show_full_heal`, `show_reset_all`.\n- Tracker keys: `hp_key`, `stress_key`, `armor_key`, `hope_key`.\n- `max_picks` \u2013 how many rest moves can be selected per rest (default 2).\n- `class` \u2013 custom CSS class on the row.\n\nLegacy `short-rest` / `long-rest` fenced blocks have been removed; always use `rest`.\n\n---\n\n## Damage Calculator (`damage`)\n\nThe `damage` block is an inline calculator that applies damage to HP/Armor trackers and highlights major/severe thresholds.\n\n```markdown\n```damage\ntitle: \"Damage\"\n\n# Tracker keys\nhp_key: din_health\narmor_key: din_armor::{{ file.path }}\n\n# thresholds \u2013 can be literals or templates/frontmatter driven\nmajor_threshold: \"{{ frontmatter.major_threshold }}\"\nsevere_threshold: \"{{ frontmatter.severe_threshold }}\"\n\nbase_major: 3\nbase_severe: 6\nlevel: \"{{ frontmatter.level }}\"\n\nclass: my-damage\n</code></pre> <pre><code>\n**Threshold resolution rules (in order):**\n\n1. If `major_threshold` / `severe_threshold` are provided in the block (and templates resolve to numbers), those are used.\n2. Otherwise, frontmatter aliases like `majorthreshold` / `severethreshold` (or `major_threshold` / `severe_threshold`) are used.\n3. Otherwise, `base_major` / `base_severe` in the block are used.\n4. In all cases, your `level` is added on top.\n\n**Key options:**\n\n- `title` \u2013 heading text above the calculator.\n- `hp_key`, `armor_key` \u2013 tracker state keys to update.\n- `major_threshold`, `severe_threshold` \u2013 explicit values or templates.\n- `base_major`, `base_severe` \u2013 fallback base thresholds.\n- `level` \u2013 used to increase thresholds.\n- `class` \u2013 custom CSS class.\n\n---\n\n## Consumables (`consumables`)\n\nRenders rows of consumable boxes with per\u2011item persistent state.\n\n```markdown\n```consumables\nitems:\n  - label: \"Health Potion\"\n    state_key: hero_hp_pots\n    uses: 3\n  - label: \"Rage\"\n    state_key: hero_rage\n    uses: \"{{ frontmatter.rage_uses }}\"\nclass: my-consumables\n</code></pre> <pre><code>\nAlternative shapes:\n\n```markdown\n```consumables\nlabel: \"Health Potion\"\nstate_key: hero_hp_pots\nuses: 3\n</code></pre> <pre><code>\n```markdown\n```consumables\nitems:\n  health_potion:\n    label: \"Health Potion\"\n    state_key: hero_hp_pots\n    uses: 3\n  rage:\n    label: \"Rage\"\n    state_key: hero_rage\n    uses: \"{{ frontmatter.rage_uses }}\"\n</code></pre> <pre><code>\n**Key options:**\n\n- `items` \u2013 list or map of items.\n- `items[].label` \u2013 item label.\n- `items[].state_key` \u2013 unique state key (stored as `dh:consumable:&lt;state_key&gt;` in local storage).\n- `items[].uses` \u2013 number of boxes (can be a template).\n- `label` / `state_key` / `uses` at root \u2013 shorthand for a single item.\n- `class` \u2013 CSS class.\n\n---\n\n## Badges (`badges`)\n\nSimple label\u2013value badges, often used for level, ancestry, class, etc.\n\n```markdown\n```badges\nclass: my-badges\nitems:\n  - label: \"Level\"\n    value: \"{{ frontmatter.level }}\"\n  - label: \"Ancestry\"\n    value: \"{{ frontmatter.ancestry }}\"\n  - label: \"Class\"\n    value: \"{{ frontmatter.class }}\"\n</code></pre> <pre><code>\n**Key options:**\n\n- `items[].label` \u2013 badge label.\n- `items[].value` \u2013 text/value (literal or template).\n- `class` \u2013 optional CSS class.\n\n---\n\n## Features (`features`)\n\nDisplays ancestry, class, subclass, and community features in either list or grid layouts.\n\n```markdown\n```features\nancestry:\n  - label: \"Emberborn\"\n    value: \"Fire\u2011aligned ancestry from the Ashen Realms.\"\nclass:\n  - label: \"Warrior\"\n    value: \"Front\u2011line defender focused on armor and control.\"\nsubclass:\n  - label: \"Sentinel\"\n    value: \"Specializes in protecting allies with reactions.\"\ncommunity:\n  - label: \"Free City Guard\"\n    value: \"Sworn to protect the city of Vyr.\"\n</code></pre> <pre><code>\nGrid layout variant:\n\n```markdown\n```features\nlayout: grid\nancestry:\n  - label: \"Emberborn\"\n    value: \"Fire\u2011aligned ancestry from the Ashen Realms.\"\n# ...\n</code></pre> <pre><code>\n**Key options:**\n\n- `ancestry`, `class`, `subclass`, `community` \u2013 each a list of `{ label, value }` entries.\n- `layout` \u2013 `list` (default) or `grid`.\n\n---\n\n## Experiences (`experiences`)\n\nStory experiences that can be invoked at the table for Hope and bonuses.\n\n```markdown\n```experiences\nitems:\n  - name: \"Saved by the Stranger\"\n    note: \"You owe a favor to the mysterious stranger who pulled you from the river.\"\n  - name: \"Haunted by the Flames\"\n    note: \"You survived a village fire that still stalks your dreams.\"\n</code></pre> <pre><code>\nSingle\u2011experience shorthand:\n\n```markdown\n```experiences\nname: \"Marked by the Old Gods\"\nnote: \"You bear a strange symbol that reacts to ancient magic.\"\n</code></pre> <pre><code>\n**Key options:**\n\n- `items[].name` / `name` \u2013 name of the experience.\n- `items[].note` / `note` \u2013 description text.\n\n---\n\n## Domain Picker (`domainpicker`)\n\nManages which domain cards are in a character's **Vault** vs **Loadout**.\n\n```markdown\n```domainpicker\n# most behavior is configured via plugin settings and frontmatter\n# optional per\u2011block overrides may be added in future versions\n</code></pre> <pre><code>\n**Behavior:**\n\n- Reads character note frontmatter, including `level` and `domains`.\n- Uses the Dataview plugin to find candidate domain card notes.\n- Shows **Vault** and **Loadout** tables of cards.\n- Lets you move cards between Vault and Loadout and adjust token counts.\n\nFolder/scoping, maximum loadout size, and other defaults are configured in the plugin settings.\n\n---\n\n## Equipment Picker (`equipmentpicker`)\n\nHelps manage weapons/armor/other gear between **Inventory** and **Equipped**.\n\n```markdown\n```equipmentpicker\n# optional per-block overrides\n# folders:\n#   - \"Cards/Equipment\"\n# enforce_tier: true   # use character tier to hide too\u2011high\u2011tier items\n# view: table          # or \"card\" for card-style tiles\n</code></pre> <p>```</p> <p>Key options:</p> <ul> <li><code>folder</code> / <code>folders</code> \u2013 limit search to one or more folders.</li> <li><code>enforce_tier</code> \u2013 when true, hide items above the character's <code>tier</code>.</li> <li><code>view</code> \u2013 <code>table</code> (default) or <code>card</code>.</li> </ul> <p>Behavior in summary:</p> <ul> <li>Reads character frontmatter, especially <code>tier</code>.</li> <li>Uses Dataview to discover equipment notes from folders or global settings.</li> <li>Groups items into Weapons, Armor, Other.</li> <li>Lets you move items between Inventory and Equipped.</li> </ul>"},{"location":"blocks/#template-event-surface","title":"Template &amp; Event Surface","text":"<p>Anywhere you can provide a string in block YAML, you can usually use templates like <code>{{ frontmatter.hp }}</code>.</p> <p>Common template paths:</p> <ul> <li><code>frontmatter.*</code> \u2013 note frontmatter, e.g. <code>{{ frontmatter.level }}</code>.</li> <li><code>abilities.*</code> \u2013 totals from the nearest <code>``traits block, e.g.</code>{{ abilities.Agility }}`.</li> <li><code>skills.*</code> \u2013 from a <code>skills</code> map in frontmatter.</li> <li><code>character.*</code> \u2013 derived summary, e.g. <code>{{ character.level }}</code>, <code>{{ character.hp }}</code>.</li> </ul> <p>Basic helpers:</p> <ul> <li><code>{{ add 2 frontmatter.level }}</code></li> <li><code>{{ subtract frontmatter.hp 2 }}</code></li> <li><code>{{ multiply 2 frontmatter.level }}</code></li> <li><code>{{ floor divide frontmatter.hp 2 }}</code></li> </ul> <p>Events fired by the plugin (for advanced users / other plugins):</p> <ul> <li><code>dh:tracker:changed</code> \u2013 <code>{ key, filled }</code> when a tracker changes.</li> <li><code>dh:kv:changed</code> \u2013 <code>{ key, val }</code> when a key in the state store changes.</li> <li><code>dh:rest:short</code> / <code>dh:rest:long</code> \u2013 rest events.</li> </ul> <p>Future advanced blocks should prefer helpers from <code>src/utils/events.ts</code> rather than calling <code>window.dispatchEvent</code> directly.</p>"}]}