import{_ as a,c as i,o as e,ag as t}from"./chunks/framework.BpVvFBTM.js";const n="/DH-UI/assets/example_traits.Cb-9dYwN.webp",g=JSON.parse('{"title":"Traits","description":"","frontmatter":{},"headers":[],"relativePath":"blocks/traits-abilities.md","filePath":"blocks/traits-abilities.md"}'),l={name:"blocks/traits-abilities.md"};function r(h,s,p,o,d,k){return e(),i("div",null,[...s[0]||(s[0]=[t('<h1 id="traits" tabindex="-1">Traits <a class="header-anchor" href="#traits" aria-label="Permalink to &quot;Traits&quot;">​</a></h1><p>The <code>traits</code> block shows your six core Daggerheart traits as cards with totals and a proficiency toggle for each:</p><p>• Agility<br> • Strength<br> • Finesse<br> • Instinct<br> • Presence<br> • Knowledge</p><p>It:</p><p>• Combines base trait values with bonuses from YAML.<br> • Renders one card per trait with a short label (AGI, STR, etc.) and the final modifier.<br> • Lets you toggle proficiency on/off per trait; the toggle state is saved via localStorage.<br> • Feeds the trait totals into the template context as both <code>traits.*</code> and <code>abilities.*</code> (for backwards‑compatibility), so other blocks like badges and features can reference them.</p><p>The block is registered under:</p><p>• traits – primary name.<br> • ability – alias.</p><h2 id="yaml-structure" tabindex="-1">YAML structure <a class="header-anchor" href="#yaml-structure" aria-label="Permalink to &quot;YAML structure&quot;">​</a></h2><p><img src="'+n+`" alt="Traits block rendered in a character sheet"></p><p>The <code>traits</code> block expects a small YAML document that describes your Daggerheart <strong>traits</strong>:</p><p>• <code>abilities</code> – base trait values (one entry per trait, e.g. <code>Agility: 1</code>).<br> • <code>bonuses</code> – additional trait bonuses (preferred key).<br> • <code>trait</code> – legacy alias for <code>bonuses</code> (still supported for older notes).</p><p>All three accept maps keyed by trait name, and <code>bonuses</code>/<code>trait</code> can also be arrays of maps that get summed.</p><h2 id="example-–-base-abilities-one-bonuses-map" tabindex="-1">Example – Base abilities + one bonuses map <a class="header-anchor" href="#example-–-base-abilities-one-bonuses-map" aria-label="Permalink to &quot;Example – Base abilities + one bonuses map&quot;">​</a></h2><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\`</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">traits</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">abilities</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  Agility</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  Strength</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  Finesse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  Instinct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  Presence</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  Knowledge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\`</span></span></code></pre></div><h3 id="rendered-cards-will-show" tabindex="-1">Rendered cards will show: <a class="header-anchor" href="#rendered-cards-will-show" aria-label="Permalink to &quot;Rendered cards will show:&quot;">​</a></h3><ul><li><strong>AGI</strong>: base 1 + bonus 1 = <code>+2</code></li><li><strong>PRE</strong>: base 0 + bonus 2 = <code>+2</code></li><li>Others use <code>0</code> as default if omitted.</li></ul><h2 id="example-–-multiple-trait-sources" tabindex="-1">Example – Multiple trait sources <a class="header-anchor" href="#example-–-multiple-trait-sources" aria-label="Permalink to &quot;Example – Multiple trait sources&quot;">​</a></h2><p>You can provide bonuses as a <strong>list</strong> if you want to keep sources separate in YAML:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\`</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">traits</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">abilities</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  Agility</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  Strength</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  Finesse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  Instinct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  Presence</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  Knowledge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">bonuses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Agility</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         # from ancestry</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    Finesse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Presence</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # from class</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    Presence</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # from background</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\`</span></span></code></pre></div><h3 id="internally-all-bonus-maps-are-summed" tabindex="-1">Internally, all bonus maps are summed: <a class="header-anchor" href="#internally-all-bonus-maps-are-summed" aria-label="Permalink to &quot;Internally, all bonus maps are summed:&quot;">​</a></h3><ul><li>Agility: <code>1 (base) + 1 = 2</code></li><li>Finesse: <code>0 (base) + 1 = 1</code></li><li>Presence: <code>0 (base) + 1 + 1 = 2</code></li></ul><p>You can also still use the older <code>trait:</code> key instead of <code>bonuses:</code>, but new notes should prefer <code>bonuses:</code>.</p><h2 id="proficiency-toggles" tabindex="-1">Proficiency toggles <a class="header-anchor" href="#proficiency-toggles" aria-label="Permalink to &quot;Proficiency toggles&quot;">​</a></h2><p>Each trait card has a small <strong>toggle pill</strong>:</p><ul><li>Clicking the toggle marks that trait as “on” (proficient) or “off”.</li><li>The state is stored in <code>localStorage</code> under a per‑trait key like:<br><code>dh:traitToggle:&lt;filePath&gt;:&lt;TraitName&gt;</code></li><li>When the note is reloaded, the block reads those keys and restores the toggles.</li></ul><p>Advanced integrations can fire the <code>dh:ability:refresh</code> event if they change toggles programmatically; the view listens for that and re‑reads <code>localStorage</code>.</p><h2 id="templates-integration-traits" tabindex="-1">Templates integration (<code>traits.*</code>) <a class="header-anchor" href="#templates-integration-traits" aria-label="Permalink to &quot;Templates integration (\`traits.*\`)&quot;">​</a></h2><p>The nearest \`\`\`traits block in a section is used by the template engine to expose your Daggerheart trait totals.</p><ul><li>After parsing your <code>traits</code> YAML, the plugin computes final totals (<code>base + bonuses</code>) for each trait.</li><li>Those totals are exposed in templates as <code>traits.&lt;name&gt;</code>.</li><li>Examples: <ul><li><span><code>{{ traits.agility }}</code></span></li><li><span><code>{{ traits.strength }}</code></span></li><li><span><code>{{ traits.knowledge }}</code></span></li></ul></li></ul><p>Names are matched <strong>case‑insensitively</strong>, so <code>traits.Agility</code> and <code>traits.agility</code> both work.</p><p>You can then use these in other blocks, e.g.:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\`</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">badges</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">items</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Agility&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{ traits.agility }}&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Presence&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{ traits.presence }}&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\`</span></span></code></pre></div><p>or combined with helpers:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\`</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">badges</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">items</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Defense&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{ add traits.agility traits.instinct }}&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\`</span></span></code></pre></div><h2 id="configuration-summary-–-traits-block" tabindex="-1">Configuration summary – <code>traits</code> block <a class="header-anchor" href="#configuration-summary-–-traits-block" aria-label="Permalink to &quot;Configuration summary – \`traits\` block&quot;">​</a></h2><p>Top‑level options:</p><table tabindex="0"><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>abilities</code></td><td>Map <code>TraitName -&gt; Number</code></td><td>Base values for the six Daggerheart traits. Missing ones default to 0.</td></tr><tr><td><code>bonuses</code></td><td>Map or Array of Maps</td><td>Trait bonuses; all maps are summed by trait.</td></tr><tr><td><code>trait</code></td><td>Map or Array of Maps</td><td>Legacy alias for <code>bonuses</code> (still supported but not recommended for new notes).</td></tr></tbody></table><h2 id="see-also" tabindex="-1">See also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See also&quot;">​</a></h2><ul><li><a href="/DH-UI/concepts/dynamic-content.html">Dynamic Content</a> – how <code>traits.*</code> are exposed to templates.</li><li><a href="/DH-UI/concepts/state-storage.html">State Storage</a> – how trait toggles and other values are remembered.</li><li><a href="/DH-UI/vitals and damage/vitals-trackers.html">Vitals &amp; Trackers</a> – HP/Stress/Armor/Hope trackers that often sit under your traits.</li></ul>`,39)])])}const E=a(l,[["render",r]]);export{g as __pageData,E as default};
