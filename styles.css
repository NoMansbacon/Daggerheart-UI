/* ===== Generated by build-css.mjs at 2025-10-29T06:59:29.986Z ===== */

/* --- src/styles/common.css --- */
:root{
  --dh-radius-card: 12px;
  --dh-gap-s: 6px;
  --dh-gap-m: 10px;

  --dh-card-border: var(--background-modifier-border);
  --dh-card-shadow: var(--shadow-s);
  --dh-bg-top:  color-mix(in oklab, var(--background-secondary), #fff 4%);
  --dh-bg-bot:  color-mix(in oklab, var(--background-secondary), #000 12%);

  --dh-text:        var(--text-normal);
  --dh-text-muted:  var(--text-muted);
  --dh-text-faint:  var(--text-faint);
  --dh-text-accent: var(--text-accent);
  --dh-text-error:  var(--text-error);
}

/* Floating card surface */
.dh-surface{
  border-radius: var(--dh-radius-card);
  border: 1px solid var(--dh-card-border);
  background: linear-gradient(180deg, var(--dh-bg-top) 0%, var(--dh-bg-bot) 100%);
  box-shadow: var(--dh-card-shadow);
}

/* Template preview styles */
.dh-template-preview { display: grid; gap: 6px; margin-top: 6px; }
.dh-template-input { width: 100%; font-family: var(--font-monospace); font-size: .9em; }
.dh-template-output { padding: 6px 8px; border: 1px solid var(--dh-card-border); border-radius: 6px; font-family: var(--font-monospace); background: var(--background-secondary); }

/* Vitals ops row */
.dh-dash-ops { display:flex; gap:6px; flex-wrap:wrap; margin-top:6px; }

/* Gold toggle */
.dh-toggle{
  --size: 18px;
  width: calc(var(--size) * 1.8);
  height: var(--size);
  border-radius: 999px;
  border: 1px solid var(--dh-card-border);
  background: linear-gradient(180deg, var(--background-secondary) 0%, color-mix(in oklab, var(--background-secondary), #000 10%) 100%);
  position: relative; cursor: pointer; display: inline-flex; align-items: center; padding: 0 2px;
  box-shadow: var(--dh-card-shadow);
}
.dh-toggle .dot{
  width: calc(var(--size) - 4px); height: calc(var(--size) - 4px); border-radius: 999px;
  background: color-mix(in oklab, #d4af37, #000 8%);
  transform: translateX(0); transition: transform 120ms ease;
  box-shadow: 0 0 0 1px rgba(0,0,0,.25), 0 2px 6px rgba(0,0,0,.25), 0 0 10px rgba(212,175,55,.35);
}
.dh-toggle.on .dot{ transform: translateX(100%); }

/* --- src/styles/components/badges.css --- */
/* Inline damage row */
.dh-badges-inline {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin: 6px 0;
  position: relative;
  border: 1px dashed var(--background-modifier-border);
  border-left: 6px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 10px 12px 10px 16px;          /* room for icon */
}
.dh-badges-inline::before {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin: 6px 0;
  position: relative;
  border: 1px dashed var(--background-modifier-border);
  border-left: 6px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 10px 12px 10px 16px;
}
.dh-badges{
  display:flex; flex-wrap:wrap; gap:8px; margin:8px 0 6px;
}

/* Inline frame to visualize badges block area */
.dh-badges {
  position: relative;
  border: 1px dashed var(--background-modifier-border);
  border-left: 6px solid #7a7f87;
  border-radius: 8px;
  padding: 10px 12px 10px 20px;
  max-width: fit-content;
}
.dh-badges::before {
  content: "";
  position: absolute;
  left: 6px;
  top: -9px;
  padding: 0 6px;
  font-size: 10px;
  line-height: 1.2;
  background: var(--background-primary);
  color: var(--text-faint);
}
.dh-badge{
  box-sizing: border-box;
  position: relative;
  border-radius: 12px;
  padding: 10px 12px;
  background: linear-gradient(
    180deg,
    var(--background-secondary) 0%,
    color-mix(in oklab, var(--background-secondary), #000 12%) 100%
  );
  border: 1px solid var(--background-modifier-border);
  box-shadow: var(--shadow-s);
  display: inline-flex;
  align-items: center;
  gap: 6px; /* space between label and value */
}
.dh-badge .dh-badge-label{
  font-size:12px; 
  letter-spacing:0; 
  text-transform:none; 
  color:var(--dh-text-muted);
}
.dh-badge .dh-badge-value{ font-size:12px; }
/* subtle separator for readability */
.dh-badge .dh-badge-label::after{
  content: ":";
  margin: 0 4px 0 2px;
  color: var(--text-faint);
}
.dh-badge .dh-badge-value{ 
  font-size:15px; 
  font-weight:600; 
  color: var(--text-accent); 
}

/* --- src/styles/components/codeblock-frame.css --- */
/* Code block framing with left accent and small icon */
.markdown-rendered pre {
  position: relative;
  border: 1px solid var(--background-modifier-border);
  border-left: 6px solid var(--code-accent, var(--text-accent));
  border-radius: 8px;
  padding: 8px 10px 8px 14px; /* extra left room for icon */
  margin: 8px 0;
}

.markdown-rendered pre::before {
  content: var(--code-icon, "");
  position: absolute;
  left: 8px;
  top: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 16px;
  min-width: 16px;
  padding: 0 4px;
  font-size: 10px;
  line-height: 1;
  font-weight: 700;
  color: var(--background-primary);
  background: var(--code-accent, var(--text-accent));
  border-radius: 999px;
}

.markdown-rendered pre code { display: block; }

/* Language-specific accents (Chromium supports :has in Electron) */
.markdown-rendered pre:has(> code.language-js)     { --code-accent: #f7df1e; --code-icon: "JS"; }
.markdown-rendered pre:has(> code.language-ts)     { --code-accent: #3178c6; --code-icon: "TS"; }
.markdown-rendered pre:has(> code.language-json)   { --code-accent: #10b981; --code-icon: "JSON"; }
.markdown-rendered pre:has(> code.language-yaml),
.markdown-rendered pre:has(> code.language-yml)   { --code-accent: #f2c12e; --code-icon: "YAML"; }
.markdown-rendered pre:has(> code.language-html)   { --code-accent: #e34f26; --code-icon: "HTML"; }
.markdown-rendered pre:has(> code.language-css)    { --code-accent: #563d7c; --code-icon: "CSS"; }
.markdown-rendered pre:has(> code.language-md),
.markdown-rendered pre:has(> code.language-markdown) { --code-accent: #8e8e8e; --code-icon: "MD"; }
.markdown-rendered pre:has(> code.language-bash),
.markdown-rendered pre:has(> code.language-sh),
.markdown-rendered pre:has(> code.language-shell) { --code-accent: #4caf50; --code-icon: "SH"; }
.markdown-rendered pre:has(> code.language-python),
.markdown-rendered pre:has(> code.language-py)    { --code-accent: #3776ab; --code-icon: "PY"; }
.markdown-rendered pre:has(> code.language-rust),
.markdown-rendered pre:has(> code.language-rs)    { --code-accent: #dea584; --code-icon: "RS"; }
.markdown-rendered pre:has(> code.language-cpp),
.markdown-rendered pre:has(> code.language-c\+\+)   { --code-accent: #00599c; --code-icon: "C++"; }
.markdown-rendered pre:has(> code.language-csharp),
.markdown-rendered pre:has(> code.language-cs)    { --code-accent: #239120; --code-icon: "C#"; }

/* Obsidian DH-UI custom blocks: set accent + icon by block type */
.markdown-rendered pre:has(> code.language-badges)      { --code-accent: #7a7f87; --code-icon: "BDG"; }
.markdown-rendered pre:has(> code.language-consumables) { --code-accent: #4caf50; --code-icon: "CON"; }
.markdown-rendered pre:has(> code.language-ability)     { --code-accent: #a78bfa; --code-icon: "ABL"; }
.markdown-rendered pre:has(> code.language-traits)      { --code-accent: #a78bfa; --code-icon: "TRT"; }
.markdown-rendered pre:has(> code.language-damage)      { --code-accent: #d32f2f; --code-icon: "\01F4A5"; border-color: #d32f2f; }
.markdown-rendered pre:has(> code.language-rest),
.markdown-rendered pre:has(> code.language-short-rest),
.markdown-rendered pre:has(> code.language-short),
.markdown-rendered pre:has(> code.language-long-rest),
.markdown-rendered pre:has(> code.language-long)        { --code-accent: #2e7d32; --code-icon: "RST"; }
.markdown-rendered pre:has(> code.language-hp)          { --code-accent: var(--dh-red, #d85a56);   --code-icon: "HP"; }
.markdown-rendered pre:has(> code.language-stress)      { --code-accent: var(--dh-blue, #4f79e6);  --code-icon: "STR"; }
.markdown-rendered pre:has(> code.language-armor)       { --code-accent: var(--dh-gray, #9aa0a6);  --code-icon: "ARM"; }
.markdown-rendered pre:has(> code.language-hope)        { --code-accent: var(--dh-gold, #e6c14f);  --code-icon: "HOP"; }

/* Fallback default icon if no language match */
.markdown-rendered pre:not(:has(> code[class*="language-"])) { --code-icon: "<>"; }

/* --- src/styles/components/consumables.css --- */
/* ===== Consumables (label + uses boxes) ===== */

:root {
  /* Gold accent to match your traits toggle look */
  --dh-gold: #e6c14f;
  --dh-gold-fill: color-mix(in oklab, var(--dh-gold), transparent 82%);
  --dh-gold-border: color-mix(in oklab, var(--dh-gold), #000 25%);
  --dh-gold-glow: color-mix(in oklab, var(--dh-gold), transparent 60%);
}

/* Container for all consumables rows */
.dh-consumables {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin: 6px 0;
  position: relative;
  border: 1px dashed var(--background-modifier-border);
  border-left: 6px solid #4caf50; /* consumables accent */
  border-radius: 8px;
  padding: 10px 12px 10px 16px;
  max-width: fit-content;
}
.dh-consumables::before{
  content: "";
  position: absolute;
  left: 6px; top: -9px;
  padding: 0 6px;
  font-size: 10px;
  line-height: 1.2;
  background: var(--background-primary);
  color: var(--text-faint);
}

/* One consumable row: tighter to bring boxes closer to the label */
.dh-consumable {
  display: grid;
  grid-template-columns: max-content 1fr; /* label width = just its content */
  align-items: center;
  column-gap: 8px;                        /* tighter gap */
  row-gap: 4px;
}

/* Label */
.dh-consumable-head {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-weight: 700;
  color: var(--text-normal);
  /* no extra right margin so boxes sit close */
}

/* Missing info hint (unchanged) */
.dh-consumable-missing {
  margin-left: 6px;
  font-size: 12px;
  color: var(--text-faint);
}

/* Boxes wrap neatly if space is tight */
.dh-consumable-uses {
  display: inline-flex;
  align-items: center;
  gap: 6px;                 /* space between boxes */
  flex-wrap: wrap;          /* allow wrapping on small screens */
}

/* Individual box (off state) */
.dh-consume-box {
  width: 18px;
  height: 18px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background: linear-gradient(
    180deg,
    var(--background-secondary) 0%,
    color-mix(in oklab, var(--background-secondary), #000 12%) 100%
  );
  box-shadow: var(--shadow-s);
  cursor: pointer;
  transition:
    transform 80ms ease,
    box-shadow 120ms ease,
    border-color 120ms ease,
    background 160ms ease;
}
/* Filled = "gold toggle" look to match traits */
.dh-consume-box.on {
  background: linear-gradient(180deg, #e2b64c, #b88418);
  border-color: #ffcf5a;
  box-shadow:
    0 0 0 1px rgba(0,0,0,.25) inset,
    0 0 8px rgba(255, 199, 66, .45);
}

/* Optional: a tiny ‚Äúpressed‚Äù feel on click */
.dh-consume-box:active {
  transform: translateY(0);
}

/* Mobile tweaks (keep things tight) */
@media (max-width: 520px) {
  .dh-consumable { column-gap: 6px; }
  .dh-consumable-uses { gap: 5px; }
  .dh-consume-box { width: 16px; height: 16px; border-radius: 5px; }
}

/* --- src/styles/components/damage.css --- */
/* Damage block */
.dh-damage-inline {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin: 6px 0;
  position: relative;
  border: 1px solid var(--background-modifier-border);
  border-left: 6px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 10px 12px 10px 16px;          /* room for icon */
  max-width: fit-content;
}
.dh-damage-inline::before {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin: 6px 0;
  position: relative;
  border: 1px dashed var(--background-modifier-border);
  border-left: 6px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 10px 12px 10px 16px;
}

/* Tiers ribbon: step segments with chevron connectors */
.dh-dmg-steps {
  display: flex;
  gap: 6px;              /* space between segments */
  align-items: stretch;
}
.dh-dmg-steps .step {
  position: relative;
  flex: 1 1 0;
  min-width: 90px;
  max-width: 90px;
  padding: 6px 10px 4px;
  text-align: center;
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  background: linear-gradient(
    180deg,
    var(--background-secondary) 0%,
    color-mix(in oklab, var(--background-secondary), #000 12%) 100%
  );
  border: 1px solid var(--background-modifier-border);
  box-shadow: var(--shadow-s);
}
.dh-dmg-steps .step .label {
  font-weight: 800;
  letter-spacing: .3px;
  font-size: 10px;
  color: var(--text-accent);
}
.dh-dmg-steps .step .meta {
  margin-top: 3px;
  font-size: 10px;
  color: var(--text-faint);
}
/* Remove arrow connectors */
.dh-dmg-steps .step::before,
.dh-dmg-steps .step::after { content: none !important; display: none !important; }

/* Simple connector with just the number */
.dh-dmg-steps .conn {
  position: relative;
  flex: 0 0 auto;
  padding: 0 6px;
  height: auto;
  align-self: center;
  display: flex; align-items: center; justify-content: center;
  
}
.dh-dmg-steps .conn .value {
  font-weight: 800;
  font-size: 20px;
  color: #d4af37;;
}
/* Add thin lines above and below the connector value to frame it */
.dh-dmg-steps .conn::before,
.dh-dmg-steps .conn::after {
  content: "";
  position: absolute;
  left: -6px;
  right: -6px; /* stretches the line across the full width */
  height: 0;
  background: linear-gradient(
    180deg,
    var(--background-secondary) 0%,
    color-mix(in oklab, var(--background-secondary), #000 12%) 100%
  );
  border: 1px solid var(--background-modifier-border);
  box-shadow: var(--shadow-s);
}

.dh-dmg-steps .conn::before {
  top: -6px;
}

.dh-dmg-steps .conn::after {
  bottom: -6px;
}


/* Inputs */
.dh-dmg-row {
  display: flex;
  gap: 10px;
  align-items: end;
  flex-wrap: wrap;
}
.dh-dmg-group { display: inline-flex; flex-direction: column; gap: 4px; }
.dh-dmg-label { font-size: 11px; color: var(--text-faint); }
.dh-dmg-input {
  width: 100px;
  padding: 4px 6px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-secondary);
  color: var(--text-normal);
  box-shadow: var(--shadow-s) inset;
  
}

/* --- src/styles/components/dashboard.css --- */
/* Dashboard wrapper: keep comfortable width even when Readable line length is disabled */
.dh-dashboard-block {
  --dh-max-width: clamp(780px, 90vw, 1340px);
  max-width: var(--dh-max-width);
  margin-inline: auto;
}

/* Dashboard grid layout (mobile/RLL-first) */
.dh-dashboard {
  --dh-dashboard-gap: var(--dh-dashboard-gap, 16px);
  display: grid;
  grid-template-columns: 1fr;
  grid-template-areas:
    "art"
    "badges"
    "traits"
    "vitals"
    "actions"
    "levelup";
  row-gap: var(--dh-dashboard-rowgap, 8px);
  column-gap: var(--dh-dashboard-gap, 20px);
  margin: 8px 0;
}

/* Wide layout modifier: apply class: wide in the dashboard YAML (class: wide) */
.dh-dashboard.wide {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-areas:
    "art traits"
    "art badges"
    "art vitals"
    "art actions"
    "levelup levelup";
  row-gap: var(--dh-dashboard-rowgap, 8px);
  column-gap: var(--dh-dashboard-gap, 16px);
  margin: 8px 0;
}

.dh-dash-art     { grid-area: art; }
.dh-dash-badges  { grid-area: badges; }
.dh-dash-traits  { grid-area: traits; }
.dh-dash-vitals  { grid-area: vitals; }
.dh-dash-actions { grid-area: actions; }
.dh-dash-levelup { grid-area: levelup; }

/* Art area sizing (minimal defaults; settings/YAML can override via CSS vars) */
.dh-dashboard .dh-dash-art {
  display: grid;
  justify-items: stretch;
  min-width: 0; min-height: 0;
  justify-content: center;
}
.dh-dashboard .dh-dash-art .dh-art-img {
  display: block;
  width: var(--dh-art-w, 100%);
  height: auto;
  max-width: 100%;
  max-height: var(--dh-art-maxh, 100%);
  object-fit: var(--dh-art-fit, contain);
  object-position: center;
  border-radius: var(--dh-art-radius, 12px);
}

/* Make vitals a split layout (trackers | actions) on wide screens */
.dh-dashboard .dh-vitals {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--dh-dashboard-gap);
}
@container dhdash (min-width: 960px) {
  .dh-dashboard .dh-vitals { grid-template-columns: 1.3fr .9fr; align-items: start; }
}

/* Optional surfaces */
.dh-dashboard[data-surface="card"] .dh-dash-badges,
.dh-dashboard[data-surface="card"] .dh-vitals,
.dh-dashboard[data-surface="card"] .dh-dash-traits,
.dh-dashboard[data-surface="card"] .dh-dash-art {
  background: linear-gradient(
    180deg,
    var(--background-secondary) 0%,
    color-mix(in oklab, var(--background-secondary), #000 10%) 100%
  );
  border: 1px solid var(--background-modifier-border);
  border-radius: 12px;
  padding: 12px;
  box-shadow: var(--shadow-s);
}

.dh-dash-levelup {
  /* Level-up block gets its own surface styling */
  margin-left: 80px !important;
}

/* Removes other CSS from standalone version inside dashboard */
.dh-dashboard .dh-badges,
.dh-dashboard .dh-vitals,
.dh-dashboard .dh-ability-cards,
.dh-dashboard .dh-tracker,
.dh-dashboard .dh-rest-row,
.dh-dashboard .dh-damage-inline {
  border: none !important;
  border-left: none !important;
  padding-left: 0 !important;
}
.dh-dashboard .dh-badges::before,
.dh-dashboard .dh-ability-cards::before,
.dh-dashboard .dh-tracker::before,
.dh-dashboard .dh-rest-row::before,
.dh-dashboard .dh-damage-inline::before {
  content: none !important;
}

/* --- src/styles/components/rest-row.css --- */
.dh-rest-row {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin: 6px 0;
  position: relative;
  border: 1px solid var(--background-modifier-border);
  border-left: 6px solid #2e7d32; /* rest accent */
  border-radius: 8px;
  padding: 8px 10px 8px 16px;
  max-width: fit-content;
}
.dh-rest-row::before{
  position: absolute;
  left: 6px; top: -9px;
  padding: 0 6px;
  font-size: 10px;
  line-height: 1.2;
  background: var(--background-primary);
  color: var(--text-faint);
}

/* --- src/styles/components/short-rest.css --- */
/* Trigger button (the one in the note) */
.dh-rest-trigger {
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid var(--background-modifier-border);
  background: linear-gradient(
    180deg,
    var(--background-secondary) 0%,
    color-mix(in oklab, var(--background-secondary), #000 10%) 100%
  );
  color: var(--text-normal);
  font-weight: 700;
  cursor: pointer;
  box-shadow: var(--shadow-s);
  transition: transform 100ms ease, box-shadow 120ms ease, border-color 120ms ease;
  position: relative;
  padding-left: 16px;
}
.dh-rest-trigger::before{
  position: absolute;
  left: -10px; top: -10px;
  padding: 0 6px;
  font-size: 10px;
  line-height: 1.2;
  background: var(--background-primary);
  color: var(--text-faint);
}
.dh-rest-trigger:hover {
  border-color: color-mix(in oklab, var(--background-modifier-border), #fff 18%);
  box-shadow: 0 6px 14px rgba(0,0,0,.22);
}
.dh-rest-trigger:active { transform: translateY(1px) scale(0.99); }

/* Modal layout */
.dh-rest-modal {
  position: fixed;
  inset: 0;
  z-index: 9999;
}
.dh-rest-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.45);
  backdrop-filter: blur(2px);
}

/* Panel */
.dh-rest-chooser {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
  width: min(620px, calc(100vw - 24px));
  margin: 0 auto;
  padding: 12px;
  border-radius: 12px;
  border: 1px solid var(--background-modifier-border);
  background: linear-gradient(
    180deg,
    var(--background-secondary) 0%,
    color-mix(in oklab, var(--background-secondary), #000 12%) 100%
  );
  box-shadow: var(--shadow-l, 0 12px 28px rgba(0,0,0,.3));
}

/* Header bar */
.dh-rest-headerbar {
  display: grid;
  grid-template-columns: 1fr auto auto auto;
  gap: 8px;
  align-items: center;
  margin-bottom: 8px;
}
.dh-rest-titlewrap { display: flex; flex-direction: column; gap: 2px; }
.dh-rest-title { font-weight: 800; font-size: 13px; color: var(--text-normal); }
.dh-rest-sub   { font-size: 11px; color: var(--text-faint); }

.dh-rest-party {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: var(--text-normal);
  white-space: nowrap;
}
.dh-rest-pill {
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid var(--background-modifier-border);
  background: linear-gradient(
    180deg,
    var(--background-secondary) 0%,
    color-mix(in oklab, var(--background-secondary), #000 10%) 100%
  );
  box-shadow: var(--shadow-s);
}

.dh-rest-picks {
  font-size: 12px;
  color: var(--text-muted);
  white-space: nowrap;
}

/* Close (√ó) button */
.dh-rest-close {
  align-self: start;
  justify-self: end;
  width: 26px;
  height: 26px;
  line-height: 26px;
  padding: 0;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background: linear-gradient(
    180deg,
    var(--background-secondary) 0%,
    color-mix(in oklab, var(--background-secondary), #000 10%) 100%
  );
  color: var(--text-muted);
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: var(--shadow-s);
}
.dh-rest-close:hover {
  color: var(--text-normal);
  border-color: color-mix(in oklab, var(--background-modifier-border), #fff 18%);
}

/* Action buttons */
.dh-rest-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-bottom: 6px;
}
.dh-rest-btn {
  padding: 6px 10px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background: linear-gradient(
    180deg,
    var(--background-secondary) 0%,
    color-mix(in oklab, var(--background-secondary), #000 10%) 100%
  );
  color: var(--text-normal);
  font-weight: 700;
  cursor: pointer;
  box-shadow: var(--shadow-s);
}
.dh-rest-btn.on {
  border-color: color-mix(in oklab, var(--background-modifier-border), #fff 22%);
  box-shadow: 0 6px 14px rgba(0,0,0,.22);
}

/* Apply row + math readout */
.dh-rest-apply { margin-top: 6px; }
.dh-event-btn {
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid var(--background-modifier-border);
  background: linear-gradient(
    180deg,
    var(--background-secondary) 0%,
    color-mix(in oklab, var(--background-secondary), #000 10%) 100%
  );
  color: var(--text-normal);
  font-weight: 700;
  cursor: pointer;
  box-shadow: var(--shadow-s);
  transition: transform 100ms ease, box-shadow 120ms ease, border-color 120ms ease;
}
.dh-event-btn:hover {
  border-color: color-mix(in oklab, var(--background-modifier-border), #fff 18%);
  box-shadow: 0 6px 14px rgba(0,0,0,.22);
}
.dh-event-btn:active { transform: translateY(1px) scale(0.99); }

.dh-rest-math {
  margin-top: 6px;
  font-size: 12px;
  color: var(--text-muted);
  transition: opacity .4s ease;
}

/* When our chooser is rendered inside Obsidian's core modal (.modal),
   disable absolute centering to prevent clipping/scrollbars. */
.modal .dh-rest-chooser {
  position: static;
  left: auto;
  top: auto;
  transform: none;
  margin: 0 auto;
  width: min(620px, calc(100vw - 24px));
}

/* Override the core modal overflow only for our rest modals. The code
   tags the modal root with .dh-rest-modal-root. */
.modal.dh-rest-modal-root {
  overflow: visible !important;
  max-height: none;
  /* Make the Obsidian modal card transparent so only our chooser is visible */
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  padding: 0 !important;
  width: auto !important;
  max-width: none !important;
  min-height: 0 !important;
}
.modal.dh-rest-modal-root .modal-close-button {
  display: none !important;
}
.modal.dh-rest-modal-root .modal-content,
.modal.dh-rest-modal-root .modal-scroll {
  overflow: visible !important;
}

/* Mobile */
@media (max-width: 560px) {
  .dh-rest-chooser {
    width: calc(100vw - 20px);
    padding: 10px;
  }
}

/* --- src/styles/components/trackers.css --- */
/* ===== Trackers (HP / Stress / Armor / Hope) ===== */

/* Color tokens */
:root {
  --dh-red:   #d85a56;   /* HP */
  --dh-blue:  #4f79e6;   /* Stress */
  --dh-gray:  #9aa0a6;   /* Armor */
  --dh-gold:  #e6c14f;   /* Hope */
}

/* One tracker row */
.dh-tracker {
  display: grid;
  grid-template-columns: max-content 1fr;
  align-items: center;
  column-gap: 10px;
  row-gap: 6px;
  margin: 6px 0;
}

/* Inline frame to visualize each tracker row area */
.dh-tracker {
  position: relative;
  border: 1px dashed var(--background-modifier-border);
  border-left: 6px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 8px 10px 8px 16px;
  max-width: fit-content;
}
.dh-tracker::before{
  content: "üìä Tracker";
  position: absolute;
  left: 6px;
  top: -9px;
  padding: 0 6px;
  font-size: 10px;
  line-height: 1.2;
  background: var(--background-primary);
  color: var(--text-faint);
}

/* Accent the left border by tracker kind */
.dh-tracker:has(.dh-track-hp)     { border-left-color: var(--dh-red); }
.dh-tracker:has(.dh-track-stress) { border-left-color: var(--dh-blue); }
.dh-tracker:has(.dh-track-armor)  { border-left-color: var(--dh-gray); }
.dh-tracker:has(.dh-track-hope)   { border-left-color: var(--dh-gold); }

/* Label */
.dh-tracker-head {
  font-weight: 700;
  color: var(--text-normal);
}

/* Boxes container: side-by-side, wrap if needed */
.dh-tracker-boxes {
  display: inline-flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
}

/* Base box look (OFF) */
.dh-track-box {
  width: 25px;
  height: 15px;
  border-radius: 6px; /* rectangle corners by default */
  border: 1px solid var(--background-modifier-border);
  background: linear-gradient(
    180deg,
    var(--background-secondary) 0%,
    rgba(0,0,0,0.12)
  );
  box-shadow: var(--shadow-s);
  cursor: pointer;
  transition:
    transform 80ms ease,
    box-shadow 120ms ease,
    border-color 120ms ease,
    background 140ms ease;
}
.dh-track-box:hover { transform: translateY(-1px); }
.dh-track-box:active { transform: translateY(0); }

/* ================== SHAPES ================== */
/* Rectangles (HP / Stress / Armor) stay default (no transform) */
.dh-track-rect .dh-track-box {
  border-radius: 6px;
  transform: none;
}

/* Diamonds (Hope) ‚Äî rotate square 45¬∞ */
.dh-track-diamond .dh-track-box {
  width: 17px;
  height: 17px;
  border-radius: 4px;
  transform: rotate(45deg);
  margin: 3px; /* keeps click area comfy */
}

/* ================== FILLED COLORS (ON) ================== */
.dh-track-hp .dh-track-box.on {
  border-color: #b94b47;
  background:
    radial-gradient(120% 70% at 50% -10%, rgba(255,255,255,.20), transparent 45%),
    linear-gradient(180deg, #e47a76 0%, #bb4e4a 100%);
  box-shadow: 0 0 8px rgba(216,90,86,.4), var(--shadow-s);
}

.dh-track-stress .dh-track-box.on {
  border-color: #3f66c0;
  background:
    radial-gradient(120% 70% at 50% -10%, rgba(255,255,255,.20), transparent 45%),
    linear-gradient(180deg, #6f93f0 0%, #3f66c0 100%);
  box-shadow: 0 0 8px rgba(79,121,230,.4), var(--shadow-s);
}

.dh-track-armor .dh-track-box.on {
  border-color: #878d94;
  background:
    radial-gradient(120% 70% at 50% -10%, rgba(255,255,255,.22), transparent 45%),
    linear-gradient(180deg, #b4b9bf 0%, #8a9096 100%);
  box-shadow: 0 0 8px rgba(154,160,166,.38), var(--shadow-s);
}

.dh-track-hope .dh-track-box.on {
  border-color: #bfa33d;
  background:
    radial-gradient(120% 70% at 50% -10%, rgba(255,255,255,.20), transparent 45%),
    linear-gradient(180deg, #f0d975 0%, #bfa33d 100%);
  box-shadow: 0 0 8px rgba(230,193,79,.45), var(--shadow-s);
}

/* Mobile tweaks */
@media (max-width: 520px) {
  .dh-tracker { column-gap: 8px; }
  .dh-tracker-boxes { gap: 5px; }
  .dh-track-box { width: 16px; height: 16px; border-radius: 5px; }
  .dh-track-diamond .dh-track-box { width: 14px; height: 14px; border-radius: 4px; }
}

/* Override corrupted label text from earlier builds */
.dh-tracker::before { content: "Tracker"; }

/* --- src/styles/components/traits.css --- */
/* ===== Ability Cards (```traits) ===== */

.dh-ability-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 10px;
  margin: 8px 0 6px;
  position: relative;
  border: 1px dashed var(--background-modifier-border);
  border-left: 6px solid #a78bfa; /* traits accent */
  border-radius: 8px;
  padding: 10px 12px 10px 16px;
}

.dh-ability-cards::before{
  content: "";
  position: absolute;
  left: 6px; top: -9px;
  padding: 0 6px;
  font-size: 10px;
  line-height: 1.2;
  background: var(--background-primary);
  color: var(--text-faint);
  max-width: fit-content;
}

/* Floating card look (compact width, same height/fonts) */
.dh-ability-card {
  box-sizing: border-box;
  position: relative;
  border-radius: 12px;
  padding: 10px 12px;
  background: linear-gradient(
    180deg,
    var(--background-secondary) 0%,
    color-mix(in oklab, var(--background-secondary), #000 12%) 100%
  );
  border: 1px solid var(--background-modifier-border);
  box-shadow: var(--shadow-s);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  min-height: 84px;
}

/* Proficient highlight when toggle is ON */
.dh-ability-card.proficient {
  border-color: color-mix(in oklab, var(--background-modifier-border), var(--text-accent) 40%);
  box-shadow: var(--shadow-s), 0 0 0 1px color-mix(in oklab, var(--text-accent), #000 60%) inset;
}

/* Header: abbreviation + gold square toggle on the right */
.dh-ability-card .dh-ability-name {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
  margin: 0;
  padding: 0;
  font-size: 10px;
  letter-spacing: 1.2px;
  text-transform: uppercase;
  color: var(--text-muted);
}

/* FORCE: we want a square ‚Äúbox‚Äù toggle, not the theme‚Äôs switch */
.dh-ability-card .dh-toggle {
  width: 16px;
  height: 16px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background: color-mix(in oklab, var(--background-secondary), #000 10%);
  cursor: pointer;
  display: inline-block;
  box-shadow: inset 0 0 0 2px rgba(0,0,0,.15);
  position: relative;
  flex: 0 0 auto;
}

/* Gold ‚Äúon‚Äù state with soft glow */
.dh-ability-card .dh-toggle.on {
  background: linear-gradient(180deg, #e2b64c, #b88418);
  border-color: #ffcf5a;
  box-shadow:
    0 0 0 1px rgba(0,0,0,.25) inset,
    0 0 8px rgba(255, 199, 66, .45);
}

/* Big total value */
.dh-ability-card .dh-ability-total {
  font-size: 28px;
  font-weight: 700;
  line-height: 1;
  margin: 2px 0 6px;
}

.dh-ability-card .dh-ability-total.dh-pos { color: var(--text-accent); }
.dh-ability-card .dh-ability-total.dh-neg { color: var(--text-error); }
.dh-ability-card .dh-ability-total.dh-zero { color: var(--text-normal); }

/* Prevent any theme switch styles leaking in */
.dh-ability-card input[type="checkbox"],
.dh-ability-card .checkbox-container,
.dh-ability-card .setting-item-control.toggle,
.dh-ability-card .mod-toggle {
  all: unset !important;
  display: none !important;
}

/* --- src/styles/components/vitals.css --- */
/* ===== Combined Vitals (HP / Stress / Armor / Hope) ===== */

/* Standalone Vitals container: dashed frame + colored left accent */
.dh-vitals {
  position: relative;
  border: 1px dashed var(--background-modifier-border);
  border-left: 6px solid #607d8b; /* vitals accent */
  border-radius: 8px;
  padding: 10px 12px 12px 16px;
  background: transparent;
  max-width: fit-content;
}

.dh-vitals-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px 12px;
}

@container dhdash (min-width: 560px) {
  .dh-vitals-grid { grid-template-columns: 1fr 1fr; }
}

@media (min-width: 560px) {
  .dh-vitals-grid { grid-template-columns: 1fr 1fr; }
}

/* Tidy the inner tracker rows (no dashed frame inside the combined card) */
.dh-vitals .dh-tracker {
  border: none;
  padding: 0;
  margin: 0;
}
.dh-vitals .dh-tracker::before { content: none; }


/* Actions row container (used outside vitals as .dh-dash-actions; keep old class for compatibility) */
.dh-vitals-actions,
.dh-dash-actions {
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: start;
  gap: var(--dh-dashboard-gap, clamp(10px, 1.5vw, 16px));
  margin-top: 10px;
}

@container dhdash (min-width: 760px) {
  .dh-vitals-actions,
  .dh-dash-actions { grid-template-columns: 1fr 1fr; }
}

.dh-dash-rest { justify-self: start; }
.dh-dash-damage { justify-self: start; }
.dh-dash-ops { grid-column: 1 / -1; display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-start; }

/* --- src/styles/components/levelup.css --- */
/* Inline Level Up grid */
.dh-levelup-header{ display:flex; gap:8px; margin:6px 0; }
.dh-levelup-body{ display:block; }
.dh-levelup-body.hidden{ display:none; }
.dh-levelup-body summary{ cursor:pointer; user-select:none; margin:6px 0; }
.dh-levelup-grid{ 
    display:grid; 
    grid-template-columns: 1fr 1fr 1fr; 
    gap:16px; 
    margin:8px 0; 
}
.dh-levelup-col{ 
    border:1px dashed var(--background-modifier-border); 
    border-left:6px solid #78909c; 
    border-radius:8px; 
    padding:10px 12px 10px 16px;
    width:fit-content;
}
.dh-levelup-title{ 
    font-weight:800; 
    margin-bottom:6px;
    color:var(--text-accent); 
}
.dh-levelup-note{ 
    color:var(--text-faint); 
    font-size:12px; 
    margin-bottom:8px; 
}
.dh-levelup-list{ 
    display:flex; 
    flex-direction:column; 
    gap:8px; 
}
.dh-levelup-row{ 
    display:flex; 
    align-items:flex-start; 
    gap:1px;
}
.dh-levelup-row.disabled{ 
    text-decoration: line-through; 
    opacity: .6; 
}
.dh-levelup-row .label.disabled{ text-decoration: line-through; opacity: .6; }
.dh-levelup-row input[type=checkbox]{ 
    transform:translateY(2px); 
}
.dh-levelup-subpanel{ 
    margin:6px 0 0 24px; 
    display:flex; 
    flex-wrap:wrap; 
    gap:8px 12px; 
}
.dh-levelup-subpanel label{ 
    display:inline-flex; 
    align-items:center; 
    gap:6px; 
    font-size:12px; 
    color:var(--text-white); 
}
.dh-levelup-subpanel label.marked{ 
    text-decoration: line-through; 
    opacity: .6; 
}
.dh-levelup-subpanel input[type=checkbox]{ 
    transform:none; 
}
.dh-levelup-subnote{ 
    margin-left:24px; 
    font-size:11px; 
    color:var(--text-faint); 
}
.dh-levelup-actions{ 
    align-self:start; 
    display:flex; 
    flex-direction:column; 
    gap:8px; }
.dh-levelup-msg{ 
    font-size:12px; 
    color:var(--text-faint); 
}
.dh-levelup-actions button{ 
    width: fit-content;
}
